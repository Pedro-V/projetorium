@startuml
skinparam sequenceParticipant underline

actor ":Professor"  as Professor
boundary ":TelaLogin"   as TelaLogin
boundary ":TelaCadastro"    as TelaCadastro
control ":ControleTurma" as ControleTurma
entity "novaTurma:Turma" as novaTurma
actor "Sistema SIGAA" as SIGAA
database Banco

ref over Professor, TelaLogin : sdEfetuarLogin
Professor -> TelaCadastro ++: insereDados()
TelaCadastro -> ControleTurma ++: enviaDados()
ControleTurma -> novaTurma ++: criarTurma()
alt criação individual 
    ControleTurma -> novaTurma ++: incluirAlunoIndividual()()
    novaTurma -> Banco : registraBanco()
else criação em lote
    ControleTurma -> SIGAA ++: incluirAlunoLote()
    loop enquanto houver turma no lote
        SIGAA -> novaTurma : informa dados
        novaTurma -> Banco : registraBanco()
    end
end
Banco --> novaTurma : resultado da inserção
novaTurma --> ControleTurma --: notificaResultado()
destroy novaTurma
ControleTurma --> TelaCadastro --: notificaResultado()

alt cadastro realizado
    TelaCadastro --> Professor : informaSucesso()
else erro de cadastro
    TelaCadastro --> Professor : informaInsucesso()
end
@enduml
